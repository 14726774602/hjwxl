webpackJsonp([3],{"6jRP":function(t,i){},GvBp:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("yzo7"),a={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"life-class animated fadeInLeft"},[s("router-link",{class:0==t.activeClass?"active":"",attrs:{to:"/life"}},[t._v("全部")]),t._v(" "),s("router-link",{class:1==t.activeClass?"active":"",attrs:{to:"/life?sm_class=1"}},[t._v("心情")]),t._v(" "),s("router-link",{class:2==t.activeClass?"active":"",attrs:{to:"/life?sm_class=2"}},[t._v("旅行")]),t._v(" "),s("router-link",{class:3==t.activeClass?"active":"",attrs:{to:"/life?sm_class=3"}},[t._v("资讯")])],1),t._v(" "),s("div",{staticClass:"life-container"},[t.isRouterAlive?s("falls",{attrs:{deta:t.article}}):t._e(),t._v(" "),s("div",{staticClass:"paging"},[s("p",{staticClass:"prev",on:{click:function(i){return t.paging(t.at_num-=1)}}},[t._v("上一页")]),t._v(" "),s("p",{staticClass:"present"},[t._v("第"+t._s(t.at_num)+"页")]),t._v(" "),s("p",{staticClass:"next",on:{click:function(i){return t.paging(t.at_num+=1)}}},[t._v("下一页")]),t._v(" "),s("p",{staticClass:"sum"},[t._v("共计"+t._s(t.sum_num)+"页")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"life-title animated fadeInDown"},[i("img",{attrs:{src:"/static/img/life.jpg",alt:""}})])}]};var n=function(t){s("6jRP")},c=s("VU/8")(e.a,a,!1,n,"data-v-cb1dbf50",null);i.default=c.exports},XUf4:function(t,i,s){"use strict";(function(t){var e=s("BO1k"),a=s.n(e),n=s("wGK2"),c=s("59g0");i.a={components:{right_nav:n.a,m_loading:c.a},data:function(){return{hideLoading:!0,article:this.deta,col:2,col_height:[],col_width:"",item_height:[],item_coor:[],item_btm:10,max_height:"",screenWidth:document.body.clientWidth,count:0}},props:{deta:{default:function(){return""}}},created:function(){this.item_coor=[];for(var t=0;t<this.article.length;t++)this.item_coor.push({left:"0",top:"0"})},mounted:function(){var t=this;this.preload();var i=this;window.onresize=function(){return window.screenWidth=document.body.clientWidth,i.screenWidth=window.screenWidth,void t.quireCoord()}},methods:{preload:function(){var t=this,i=!0,s=!1,e=void 0;try{for(var n,c=a()(this.article);!(i=(n=c.next()).done);i=!0){var o=n.value,r=new Image;r.src=o.title_url,r.onload=function(){t.count++}}}catch(t){s=!0,e=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw e}}},quireCoord:function(){this.addWindow(),this.col_width=t(".life-item").width();var i=[],s=[];t(".life-item").each(function(){i.push(Math.ceil(t(this).height())),s.push({left:"0",top:"0"})}),this.item_height=[].concat(i);for(var e=0;e<this.col;e++)this.col_height[e]=0;this.addCoord()},addCoord:function(){for(var t=0;t<this.article.length;t++){var i=Math.min.apply(Math,this.col_height),s=this.col_height.indexOf(i);this.item_coor[t].left=this.col_width*s,this.item_coor[t].top=this.col_height[s],this.col_height[s]+=this.item_height[t],this.col_height[s]+=this.item_btm;var e=Math.max.apply(Math,this.col_height);this.max_height=e}},addWindow:function(){this.screenWidth<750?this.col=1:this.col=2}},watch:{count:function(t){if((t==this.article.length&&0!=t)|0==this.article.length){var i=this;setTimeout(function(){i.hideLoading=!1},300);this.quireCoord()}}}}}).call(i,s("7t+N"))},"lYa+":function(t,i,s){"use strict";var e=s("XUf4"),a={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[t.hideLoading?s("m_loading"):t._e(),t._v(" "),s("div",{staticClass:"life-container"},[s("div",{staticClass:"life-content",style:{minHeight:t.max_height+"px"}},t._l(t.deta,function(i,e){return s("div",{key:e,staticClass:"life-item",style:{left:t.item_coor[e].left+"px",top:t.item_coor[e].top+"px"}},[s("div",[s("router-link",{attrs:{to:1==i.bg_class?"/life_page?id="+i.id:"/it_page?id="+i.id}},[s("p",{staticClass:"item-img"},[s("img",{attrs:{src:i.title_url,alt:""}})]),t._v(" "),s("p",{staticClass:"item-title"},[t._v(t._s(i.title))]),t._v(" "),s("p",{staticClass:"item-time"},[t._v(t._s(t._f("dateFormat")(i.issueTime)))]),t._v(" "),s("p",{staticClass:"item-text"},[t._v(t._s(i.intro))])])],1)])}),0),t._v(" "),s("div",{staticClass:"right-nav"},[s("right_nav")],1)])],1)},staticRenderFns:[]};var n=function(t){s("yYxv")},c=s("VU/8")(e.a,a,!1,n,"data-v-47da7229",null);i.a=c.exports},yYxv:function(t,i){},yzo7:function(t,i,s){"use strict";(function(t){var e=s("lYa+");i.a={components:{falls:e.a},data:function(){return{isRouterAlive:!0,activeClass:0,at_num:1,sum_num:1,article:[],clss:"",num:""}},props:{deta:{default:function(){return""}}},created:function(){this.getPage()},mounted:function(){void 0==this.$route.query.sm_class?this.activeClass=0:this.activeClass=this.$route.query.sm_class},methods:{getPage:function(){var t=this.$route.query.sm_class,i=this;this.axios.get("http://api.hjwxl.com:3000/article/list_pno",{params:{bg_class:"1",sm_class:t}}).then(function(t){i.sum_num=Math.ceil(t.data[0]["count(*)"]/10),0==i.sum_num&&(i.sum_num=1),i.paging()}).catch(function(t){console.log(t)})},paging:function(i){1==this.at_num?(t(".prev").hide(),this.sum_num>this.at_num?(t(".present").show(),t(".next").show(),t(".sum").show()):(t(".present").hide(),t(".next").hide(),t(".sum").hide())):(t(".prev").show(),t(".sum").show(),this.sum_num>this.at_num?t(".next").show():t(".next").hide()),this.getArticle()},getArticle:function(){var t=this.at_num,i=this.$route.query.sm_class,s=this;this.axios.get("http://api.hjwxl.com:3000/article/list",{params:{pno:t,bg_class:"1",sm_class:i}}).then(function(t){t.data.length>0?(s.article=t.data,s.reload()):alert("获取数据失败")}).catch(function(t){console.log(t)})},reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})}},watch:{$route:function(){this.clss=this.$route.query.sm_class,void 0==this.$route.query.sm_class?this.activeClass=0:this.activeClass=this.$route.query.sm_class,this.at_num=1,this.getPage()}}}}).call(i,s("7t+N"))}});
//# sourceMappingURL=3.952ea65a8fdf42a43686.js.map