webpackJsonp([5],{"1Utx":function(t,i){},QtGR:function(t,i){},Wc0G:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("xA4w"),o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.hideLoading?e("m_loading"):t._e(),t._v(" "),e("div",{staticClass:"life-content",style:{minHeight:t.max_height+"px"}},t._l(t.deta,function(i,s){return e("div",{key:s,staticClass:"life-item",style:{left:t.item_coor[s].left+"px",top:t.item_coor[s].top+"px"}},[e("div",[e("router-link",{attrs:{to:"/photo_page?id="+i.id}},[e("p",{staticClass:"item-img"},[e("img",{attrs:{src:i.img_url,alt:""}})]),t._v(" "),e("p",{staticClass:"item-title"},[t._v(t._s(i.title))]),t._v(" "),e("p",{staticClass:"item-intro"},[t._v(t._s(i.intro))]),t._v(" "),e("p",{staticClass:"item-time"},[t._v(t._s(t._f("dateFormat")(i.issueTime)))])])],1)])}),0)],1)},staticRenderFns:[]};var a=function(t){e("1Utx")},n={components:{photo_falls:e("VU/8")(s.a,o,!1,a,"data-v-600716a7",null).exports},data:function(){return{isRouterAlive:!1,activeClass:0,name:"相册",photo_com:[]}},props:{deta:{default:function(){return""}}},created:function(){this.getPhoto(),void 0==this.$route.query.sm_class?this.activeClass=0:this.activeClass=this.$route.query.sm_class},mounted:function(){},methods:{getPhoto:function(){var t=this.$route.query.sm_class,i=this;this.axios.get("http://localhost:3306/photo/list",{params:{sm_class:t}}).then(function(t){t.data.length>0?(i.photo_com=t.data,i.reload()):alert("获取数据失败")}).catch(function(t){console.log(t)})},reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})}},watch:{$route:function(){this.getPhoto(),void 0==this.$route.query.sm_class?this.activeClass=0:this.activeClass=this.$route.query.sm_class}}},c={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"header animated fadeInDown"},[e("p",{staticClass:"header-nav"},[e("router-link",{class:0==t.activeClass?"active":"",attrs:{to:"/photo"}},[t._v("全部")]),t._v(" "),e("router-link",{class:1==t.activeClass?"active":"",attrs:{to:"/photo?sm_class=1"}},[t._v("古韵")]),t._v(" "),e("router-link",{class:2==t.activeClass?"active":"",attrs:{to:"/photo?sm_class=2"}},[t._v("山水")]),t._v(" "),e("router-link",{class:3==t.activeClass?"active":"",attrs:{to:"/photo?sm_class=3"}},[t._v("独家")])],1)]),t._v(" "),e("div",{staticClass:"p-container"},[t.isRouterAlive?e("photo_falls",{attrs:{deta:t.photo_com}}):t._e()],1)])},staticRenderFns:[]};var r=e("VU/8")(n,c,!1,function(t){e("QtGR")},"data-v-1153ad7e",null);i.default=r.exports},xA4w:function(t,i,e){"use strict";(function(t){var s=e("BO1k"),o=e.n(s),a=e("59g0");i.a={components:{m_loading:a.a},data:function(){return{hideLoading:!0,article:this.deta,col:3,col_height:[],col_width:"",item_height:[],item_coor:[],item_btm:10,max_height:"",screenWidth:document.body.clientWidth,count:0}},props:{deta:{default:function(){return""}}},created:function(){this.item_coor=[];for(var t=0;t<this.article.length;t++)this.item_coor.push({left:"0",top:"0"})},mounted:function(){var t=this;this.preload();var i=this;window.onresize=function(){return window.screenWidth=document.body.clientWidth,i.screenWidth=window.screenWidth,void t.quireCoord()}},methods:{preload:function(){var t=this,i=!0,e=!1,s=void 0;try{for(var a,n=o()(this.article);!(i=(a=n.next()).done);i=!0){var c=a.value,r=new Image;r.src=c.img_url,r.onload=function(){t.count++}}}catch(t){e=!0,s=t}finally{try{!i&&n.return&&n.return()}finally{if(e)throw s}}},quireCoord:function(){this.addWindow(),this.col_width=t(".life-item").width();var i=[],e=[];t(".life-item").each(function(){i.push(Math.ceil(t(this).height())),e.push({left:"0",top:"0"})}),this.item_height=[].concat(i);for(var s=0;s<this.col;s++)this.col_height[s]=0;this.addCoord()},addCoord:function(){for(var t=0;t<this.article.length;t++){var i=Math.min.apply(Math,this.col_height),e=this.col_height.indexOf(i);this.item_coor[t].left=this.col_width*e,this.item_coor[t].top=this.col_height[e],this.col_height[e]+=this.item_height[t],this.col_height[e]+=this.item_btm;var s=Math.max.apply(Math,this.col_height);this.max_height=s}},addWindow:function(){this.screenWidth>1e3?this.col=3:this.screenWidth>750?this.col=2:this.col=1}},watch:{count:function(t){if((t==this.article.length&&0!=t)|0==this.article.length){var i=this;setTimeout(function(){i.hideLoading=!1},300);i.quireCoord()}}}}}).call(i,e("7t+N"))}});
//# sourceMappingURL=5.8a71a8a3d2f4d931bf66.js.map